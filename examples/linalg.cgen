@comptime(T, dimensions)

struct Vec_${dimensions}D_${T} {
    @for (int i = 0; i < dimensions; ++i) { 
        @emitln("%s dim_%d", T, i);
    }
};

struct Vec_${dimensions}D_${T} vec_add_${dimensions}d_${T}
(
    struct Vec_${dimensions}D_${T} a, 
    struct Vec_${dimensions}D_${T} b
) {
    struct Vec_${dimensions}D_${T} result = {0};
    @for (int i = 1; i <= dimensions; ++i) {
        result.dim_${i} = a.dim_${i} + b.dim_${i};
    }
    return result;
}
